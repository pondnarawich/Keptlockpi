<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kept-lock</title>

    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

    <!-- font awesome cdn link  -->
    <script src="https://kit.fontawesome.com/802ccae5cc.js" crossorigin="anonymous"></script>

    <!-- custom css file link  -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">

</head>

  
  
  <body id="light_navy">
     <header class="header">
      <a class="logo"> Kept-lock </a>
    </header> 

    <section class="rfid">
        
       <a href="http://127.0.0.1:8000/keptlock/mode" ><div class="box">
        <div class="fas fa-circle-left" ></div>
        <div class="content">
          <h1>Back to home !</h1>
        </div>
      </div></a>
      
       <div class="locker" >
          
          <form class="open" method="post">
              <h2>Select the slot</h2>

            {% set count = namespace(value=0) %}
            {% for slot in slots %}
              {% set count.value = count.value + 1 %}
              {% if not slot.opened %}
                <input type="submit" class="can" href="#popup{{count.value}}" value="Open Slot #{{count.value}}" name="open.{{count.value}}" />
              {% else %}
              {% if slot.opened%}
               <input class="cannot" value="Slot #{{count.value}} is opened" name="open.{{count.value}}"disabled/>
              {% endif %}
              {% endif %}
            {% endfor %}


            {% if not open_all_allow %}
              <input class="cannot" value="All slot are already opened" disabled/>
            {% else %}
              <input type="submit" class="can" href="#popup{{(locker.size) + 1}}" value="Open all slots" name="open.all" />
            {% endif %}

          </form>
    </div>

  {% for slot in range((locker.size) + 2)%}
     <div id="popup{{slot}}" class="overlay">
      <div class="popup">
        <h2>Confirmation</h2>
        {% if slot == ((locker.size) + 1) %}
        <div class="content">
          To unlock All slots, Please use your card
        </div>
        {% else %}
        <div class="content">
          To unlock slot #{{slot}}, Please use your card
        </div>
        {% endif %}
          <form action="" method="post">
              <div class="button">
<!--                  <input name="open.{{slot+1}}" type="submit" value="Confirm" class="btn_con">-->
                  <a href="#"class="btn_can">Cancel</a>
              </div>
          </form>
      </div>
    </div>
  {% endfor %}

    
    </section>

<!-- login section ends -->
        
    
  </body>

</html>

